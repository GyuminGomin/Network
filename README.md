# Network Administrator

## TCP/IP

### - NAT - (Network Address Translation)
IP 패킷의 TCP/UDP 포트 숫자와 소스 및 목적지의 IP 주소 등을 재기록하면서 라우터를 통해 네트워크 트래픽을 주고 받는 기술  
  
<p style="color: yellow;"> NAT 사용 이유는 대개 사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP 주소를 사용해 인터넷에 접속하기 위함  </p>  

<strong>NAT은 IPv4의 주소 부족 문제를 해결하기 위한 방법으로 고려되었으며</strong>, 주로 비공인(사설, local) 네트워크 주소를 사용하는 망에서 외부의 공인망(public)과의 통신을 위해 네트워크 주소를 변환해줌.  
  
외부 침입자가 공격하기 위해선 사설망의 내부 IP주소를 알아야 하기 때문에 공격이 어려워지므로 내부 네트워크를 보호할 수 있는 장점 존재  
  
한정된 IPv4 공인 IP 주소 절약 가능  
  
> 예시
>> 1. 공유기 하나의 공인 IP를 사설 IP로 변환하여 여러 기기 사용
>> 2. 
  
> 참고 사항  
>> 1. 백본스위치와 방화벽 사이에 설치  
>> 2. 공개된 인터넷과 사설망 사이에 방화벽(Firewall)을 설치하여 외부 공격으로 부터 보호, 이때 인터넷망과 연결하는 장비인 라우터에 NAT을 설정할 경우 라우터는 자신에게 할당된 공인 IP주소만 외부로 알려지게 하고 내부에선 사설 IP 주소만 사용해 필요시 서로 변환
>> 3. 
  
### - 라우팅 경로 결정 순서 -
```
| 라우팅 최적 경로를 결정하는 순서 |
Longest Match Rule -> AD -> Metric
```

- Longest Match Rule  
  
> 라우팅 테이블에서 목적지 경로를 찾아 갈 때, 라우팅 테이블에 있는 네트워크 주소가 가장 길게 일치되는 경로를 먼저 선택하는 방식  

예를 들어, ping 192.128.100.100을 입력했을 때, 네트워크 장비가 다음의 라우팅 테이블 정보를 가진 라우터로 송신 요청을 한다면,
```
192.0.0.0/8
192.168.0.0/16
192.168.100.0/24
```
이 중 목적지 주소가 가장 긴 경로인 192.168.100.0/24를 선택하는 것이 Longest Match Rule  

- AD (Adminstrative Distance) 값
> 라우터 간의 약속된 "관리자 거리 값"을 나타냄. 이는 관리자가 라우팅 정보 소스의 신뢰성에 대해 정해 놓은 비율로서 여러 가지 라우팅 프로토콜을 운영할 경우 동일 목적지에 대한 여러 개의 경로 중 어떤 프로토콜에 의해 얻은 정보를 우선할 것인지 그 값을 정해놓은 것

- Metric
> AD 값을 몇 번 측정했는가를 나타냄 메트릭 값은 정해진 출발지에서 목적지까지 가는 임의의 단위이며 값의 단위는 프로토콜에 따라 달라짐. 쉽게 말해 목적지까지 가기 위한 '거리 비용'이라고 생각할 수 있음.
작을수록 송신하고자 하는 라우터와 가깝고, 클수록 멀다고 볼 수 있음.

ex. 동일 라우팅 프로토콜 내에서 목적지로 가는 경로가 여러 개 있을 경우, 메트릭 값이 작을 수록 우선순위가 높아짐.

### - ARP - (Address Resolution Protocol)
IP주소를 MAC 주소와 매칭 시키기 위한 프로토콜  
  
***로컬네트워크(LAN***)에서 단말과 단말 간 통신을 하기 위해선 IP 주소와 함께 MAC 주소를 사용하게 되는데, IP 주소를 MAC Address와 매칭하여 목적지 IP의 단말이 소유한 MAC 주소를 향해 제대로 찾아가기 위함임.

이더넷같은 네트워크가 제공하는 BroadCast 기능을 사용해
목적지 IP Address에 MAC(물리적 하드웨어 주소)을 매핑하는 것, IP->MAC 주소 매핑  
*RARP(Reverse Address Resolution Protocol) : MAC->IP 주소 매핑

### - SNMP - (Simple Network Management Protocol)  


### - 문제적 읽기 - (Address Resolution Protocol)  
TCP, UDP port를 함께 사용하는 프로토콜은?
-\<DNS>